<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../_generator/doc.xslt" media="screen" ?>
<!--
  Copyright 2010-2017 BusinessCode GmbH, Germany

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<doc:Doc title="Menu" xmlns:doc="http://www.businesscode.de/schema/bcdui/doc-1.1.0">

  <doc:Chapter title="Overview" type="overview">
    <doc:Body>
      This tutorial shows how to add a menu to our simple tutorial application. 
      
          
      <div>The following steps are necessary in general:
      <dl>
        <dt>1. Create a menu </dt>
        <dd>Create a menu.xml file in WEB-INF/bcdui/menu</dd>
        <dt>2. Add createMenu to your pages</dt>
        <dd>Invoke the js api to create a menu on the pages.</dd>
      </dl>
      Each step is described in the following sub chapters.
      </div>
    </doc:Body>
  </doc:Chapter>

  <doc:Chapter title="Step by step">
    <doc:SubChapter title="Create a menu.xml file">
      <doc:Body>
      <p>BCD-UI has a mechanism that makes it easy to handle menues in a web application. This feature is activated when a menu.xml file is created and after restart the tomcat server.
      The file is an xml configuration file and has its own schema. For our test application the file would look like this.</p>
      <doc:xml>
        <Menu id="gettingStarted" isDefault="true" xmlns="http://www.businesscode.de/schema/bcdui/menu-1.0.0">
          <Entry id="report" caption="Reports">
            <Entry id="simpleReq"   caption="Simple Req"   href="/simpleReq/index.html"   title="Click here for Simple Request"/>
            <Entry id="minimalCube" caption="Minimal Cube" href="/minimalCube/index.html" title="Click here for Minimal Cube"/>
          </Entry> 
          <Entry id="logout"      caption="logout"       href="/logout"                    title="Click here to logout" />
        </Menu>
      </doc:xml>
      <p>The element "Entry" can contain other Entry element so you can create a typical menue hierarchy. 
      The href attributes starts with a slash, you don't have to add the name of the application here.</p>
      </doc:Body>
    </doc:SubChapter>
    <doc:SubChapter title="Add createMenu to your pages">
      <doc:Body>
       <p>The menu needs to be created in all html pages you want to have a menu. In our example that would mean the cube page, the simple request, but not
       the login.html page. So add the following javascript code to your pages.</p>
       <code>   
          // Create Menu
          bcdui.widget.createMenu({ targetHtml: 'bcdMenuBarArea'});
       </code>
       <p>Please note that the targetHtml arguments has to match to an existing element. The easiest thing is to use the menuBar element in the standard page, we used so far</p>
       <doc:xml>
            <div id="bcdHeaderArea">
              <div id="bcdLogoImageArea"></div>
            </div>
            <div id="bcdMenuBarArea"></div>
            <div id="bcdSpacerArea"></div>
       </doc:xml>
    
      The element with id "bcdMenuBarArea". After restart of tomcat the menu should appear on your pages. Please note that changes on the menu.xml content require
      a tomcat restart, because the menu is cached. 
       
      
      </doc:Body>
    </doc:SubChapter>
  </doc:Chapter>
</doc:Doc>